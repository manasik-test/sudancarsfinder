<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ø¯Ø§Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ø³Ù…ÙŠØ§Øª</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; min-height: 100vh; }
        
        .container { max-width: 1400px; margin: auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        
        h1 { color: #667eea; margin-bottom: 10px; font-size: 28px; text-align: center; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 14px; }
        
        /* Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tabs { display: flex; gap: 10px; margin-bottom: 30px; border-bottom: 2px solid #e0e0e0; }
        .tab { padding: 15px 30px; cursor: pointer; border: none; background: none; font-size: 16px; font-weight: bold; color: #666; transition: all 0.3s; border-bottom: 3px solid transparent; }
        .tab.active { color: #667eea; border-bottom-color: #667eea; }
        .tab:hover { color: #667eea; }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .section { display: none; }
        .section.active { display: block; }
        
        .input-area { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .input-box { display: flex; flex-direction: column; }
        .input-box label { font-weight: bold; margin-bottom: 8px; color: #333; font-size: 14px; }
        textarea { width: 100%; height: 300px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 14px; font-family: 'Courier New', monospace; resize: vertical; }
        textarea:focus { outline: none; border-color: #667eea; }
        
        .btn-container { display: flex; gap: 15px; margin-bottom: 20px; }
        .btn { padding: 15px 30px; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .btn-primary { background: #667eea; color: white; flex: 1; }
        .btn-primary:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102,126,234,0.3); }
        .btn-secondary { background: #28a745; color: white; }
        .btn-secondary:hover { background: #218838; }
        .btn-danger { background: #dc3545; color: white; }
        
        /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; text-align: center; }
        .stat-card:nth-child(2) { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .stat-card:nth-child(3) { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .stat-card:nth-child(4) { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .stat-num { font-size: 32px; font-weight: bold; display: block; }
        .stat-label { font-size: 13px; opacity: 0.9; }
        
        /* Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„ØªØµØ­ÙŠØ­Ø§Øª */
        .corrections-table { max-height: 400px; overflow-y: auto; border: 2px solid #e0e0e0; border-radius: 10px; margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #f8f9fa; padding: 12px; text-align: right; font-weight: 600; position: sticky; top: 0; border-bottom: 2px solid #dee2e6; }
        td { padding: 12px; border-bottom: 1px solid #e9ecef; }
        tr:hover { background: #f8f9fa; }
        .delete-btn { background: #dc3545; color: white; border: none; padding: 5px 15px; border-radius: 5px; cursor: pointer; font-size: 12px; }
        .delete-btn:hover { background: #c82333; }
        
        /* Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr auto; gap: 10px; align-items: end; margin-bottom: 20px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-size: 13px; font-weight: bold; margin-bottom: 5px; color: #555; }
        .form-group input, .form-group select { padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; }
        
        .examples { background: #fff3cd; border: 2px solid #ffc107; border-radius: 10px; padding: 15px; margin-bottom: 20px; }
        .examples h3 { color: #856404; font-size: 16px; margin-bottom: 10px; }
        .examples ul { margin-right: 20px; color: #856404; }
        .examples li { margin-bottom: 5px; font-size: 14px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ§¹ Ø£Ø¯Ø§Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ø³Ù…ÙŠØ§Øª</h1>
    <p class="subtitle">Ù†Ø¸Ù‘Ù Ù‚ÙˆØ§Ø¦Ù…Ùƒ ÙˆØµØ­Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¦ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
    
    <div class="tabs">
        <button class="tab active" onclick="switchTab('clean')">ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ</button>
        <button class="tab" onclick="switchTab('dictionary')">Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„ØªØµØ­ÙŠØ­Ø§Øª</button>
        <button class="tab" onclick="switchTab('manual')">ØªÙ†Ø¸ÙŠÙ ÙŠØ¯ÙˆÙŠ</button>
    </div>
    
    <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ -->
    <div id="clean" class="section active">
        <div class="examples">
            <h3>ğŸ“ Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØµØ­ÙŠØ­Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©:</h3>
            <ul>
                <li><strong>ÙƒÙˆØ±ÙŠÙ„Ø§</strong> â†’ <strong>ÙƒÙˆØ±ÙˆÙ„Ø§</strong></li>
                <li><strong>Ø§ÙƒØ³ÙŠÙ†Øª</strong> â†’ <strong>Ø§ÙƒØ³Ù†Øª</strong></li>
                <li><strong>ØªÙˆØ³Ù†</strong> â†’ <strong>ØªÙˆØ³Ø§Ù†</strong></li>
                <li><strong>Ø§Ù„Ù†ØªÙŠØ±Ø§</strong> â†’ <strong>Ø§Ù„Ù†ØªØ±Ø§</strong></li>
            </ul>
        </div>
        
        <div style="background: #d1ecf1; border: 2px solid #17a2b8; border-radius: 10px; padding: 15px; margin-bottom: 20px;">
            <h3 style="color: #0c5460; font-size: 16px; margin-bottom: 10px;">ğŸ¤– ÙƒØ´Ù Ø°ÙƒÙŠ Ù„Ù„ÙƒÙ„Ù…Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©</h3>
            <p style="color: #0c5460; font-size: 14px; margin: 0;">Ø¹Ù†Ø¯ Ø§Ù„ØªÙ†Ø¸ÙŠÙØŒ Ø³ÙŠÙƒØªØ´Ù Ø§Ù„Ù†Ø¸Ø§Ù… Ø£ÙŠ ÙƒÙ„Ù…Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© ÙˆÙŠØ³Ø£Ù„Ùƒ:</p>
            <ul style="margin: 10px 0 0 20px; color: #0c5460; font-size: 14px;">
                <li><strong>ğŸ“‹ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</strong> - Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© Ø¨ÙƒÙ„ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© (Ù…Ø±ØªØ¨Ø©)</li>
                <li><strong>âŒ¨ï¸ Ø£Ùˆ Ø§ÙƒØªØ¨ ÙŠØ¯ÙˆÙŠØ§Ù‹</strong> - Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</li>
                <li><strong>âœ… Ø­ÙØ¸</strong> - Ù„Ø­ÙØ¸ Ø§Ù„ØªØµØ­ÙŠØ­ ÙÙŠ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³</li>
                <li><strong>â­ï¸ ØªØ¬Ø§Ù‡Ù„</strong> - Ù„ØªØ®Ø·ÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø©</li>
                <li><strong>âœ”ï¸ ØµØ­ÙŠØ­Ø©</strong> - Ø§Ù„ÙƒÙ„Ù…Ø© ØµØ­ÙŠØ­Ø©ØŒ Ø£Ø¶ÙÙ‡Ø§ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</li>
            </ul>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <span class="stat-num" id="totalLines">0</span>
                <span class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø·Ø±</span>
            </div>
            <div class="stat-card">
                <span class="stat-num" id="corrected">0</span>
                <span class="stat-label">ØªÙ… Ø§Ù„ØªØµØ­ÙŠØ­</span>
            </div>
            <div class="stat-card">
                <span class="stat-num" id="unchanged">0</span>
                <span class="stat-label">Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±</span>
            </div>
            <div class="stat-card">
                <span class="stat-num" id="removed">0</span>
                <span class="stat-label">ØªÙ… Ø§Ù„Ø­Ø°Ù</span>
            </div>
        </div>
        
        <div class="input-area">
            <div class="input-box">
                <label>ğŸ“¥ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© (Ø§Ù„ØµÙ‚Ù‡Ø§ Ù‡Ù†Ø§)</label>
                <textarea id="inputText" placeholder="Ø§Ù„ØµÙ‚ Ù‚Ø§Ø¦Ù…ØªÙƒ Ù‡Ù†Ø§...&#10;&#10;Ù…Ø«Ø§Ù„:&#10;Ù£Ù Ù¥Ù¡Ù£Ù¦Ù£ ÙƒÙˆØ±ÙŠÙ„Ø§&#10;Ù£Ù©Ù©Ù¡Ù¢Ù¦ ÙƒÙ„Ùƒ&#10;Ù¤Ù©Ù¢Ù¦Ù©Ù¤ ØªÙˆØ³Ù†"></textarea>
            </div>
            <div class="input-box">
                <label>ğŸ“¤ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ø¸ÙŠÙØ© (Ø¨Ø¹Ø¯ Ø§Ù„ØªØµØ­ÙŠØ­)</label>
                <textarea id="outputText" readonly placeholder="Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ø¸ÙŠÙØ© Ù‡Ù†Ø§..."></textarea>
            </div>
        </div>
        
        <div class="btn-container">
            <button class="btn btn-primary" onclick="cleanData()">ğŸ§¹ ØªÙ†Ø¸ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ</button>
            <button class="btn btn-secondary" onclick="copyOutput()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
            <button class="btn btn-danger" onclick="clearAll()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
        </div>
    </div>
    
    <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ -->
    <div id="dictionary" class="section">
        <div class="form-grid">
            <div class="form-group">
                <label>Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©</label>
                <input type="text" id="wrongWord" placeholder="Ù…Ø«Ø§Ù„: ÙƒÙˆØ±ÙŠÙ„Ø§">
            </div>
            <div class="form-group">
                <label>Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</label>
                <input type="text" id="correctWord" placeholder="Ù…Ø«Ø§Ù„: ÙƒÙˆØ±ÙˆÙ„Ø§">
            </div>
            <button class="btn btn-primary" onclick="addCorrection()">â• Ø¥Ø¶Ø§ÙØ©</button>
        </div>
        
        <div class="corrections-table">
            <table>
                <thead>
                    <tr>
                        <th style="width: 40%">Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©</th>
                        <th style="width: 40%">Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</th>
                        <th style="width: 20%">Ø¥Ø¬Ø±Ø§Ø¡</th>
                    </tr>
                </thead>
                <tbody id="correctionsBody"></tbody>
            </table>
        </div>
        
        <div class="btn-container">
            <button class="btn btn-secondary" onclick="saveCorrections()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³</button>
            <button class="btn btn-primary" onclick="loadCorrections()">ğŸ“‚ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³</button>
            <button class="btn btn-danger" onclick="resetCorrections()">ğŸ”„ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</button>
        </div>
    </div>
    
    <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙŠØ¯ÙˆÙŠ -->
    <div id="manual" class="section">
        <div class="input-area">
            <div class="input-box">
                <label>Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†</label>
                <input type="text" id="searchText" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§" style="height: 50px; width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
            </div>
            <div class="input-box">
                <label>Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¨Ù€</label>
                <input type="text" id="replaceText" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©" style="height: 50px; width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
            </div>
        </div>
        
        <div class="btn-container">
            <button class="btn btn-primary" onclick="manualReplace()">ğŸ”„ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙƒÙ„</button>
        </div>
        
        <div class="input-box">
            <label>Ø§Ù„Ù†Øµ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</label>
            <textarea id="manualText" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§..."></textarea>
        </div>
    </div>
</div>

<script>
// Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© (Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ØµÙ„ÙŠ)
const approvedModels = [
    // ØªÙˆÙŠÙˆØªØ§
    "ÙƒÙˆØ±ÙˆÙ„Ø§", "Ù…ÙˆÙ†ÙƒØ§", "ÙƒØ§Ù…Ø±ÙŠ", "Ù„Ø§Ù†Ø¯ÙƒØ±ÙˆØ²Ø±", "ÙƒØ±ÙˆØ²Ø±", "GXR", "Ø¨Ø±Ø§Ø¯Ùˆ", 
    "ÙÙˆØ±Ø´Ù†Ø±", "Ù‡Ø§ÙŠÙ„ÙˆÙƒØ³", "Ø¨ÙˆÙƒØ³ÙŠ", "Ø¨ÙƒØ³ ØªØ§ÙŠÙˆØªØ§", "ÙŠØ§Ø±Ø³", "Ù‡Ø§ÙŠØ³", "Ø´Ø±ÙŠØ­Ø©", 
    "Ø±Ø§Ù", "Ø±Ø§Ù ÙÙˆØ±", "RAV4", "ÙƒÙˆØ³ØªØ±",
    
    // Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ
    "Ø§ÙƒØ³Ù†Øª", "Ù…Ø¶Ù„Ø¹", "Ø¯Ø¨Ø¯ÙˆØ¨", "Ø¬ÙŠØ§Ø¯", "Ø£ÙØ§Ù†ØªÙŠ", "Ø§ÙØ§Ù†ØªÙŠ", "Ø³Ø­Ù„ÙŠØ©", "Ù…Ù†ÙÙˆØ®Ø©",
    "ÙÙŠØ±Ù†Ø§", "Ø§ÙŠ ØªÙ†", "i10", "Ø·ÙŠÙˆØ± Ø§Ù„Ø¬Ù†Ø©", "Ù‚Ø±Ø§Ù†Ø¯ i10", "ÙƒÙ„Ùƒ", "Ù‚ÙŠØªØ²",
    "ØªÙˆØ³Ø§Ù†", "Ø³Ù†ØªØ§ÙÙŠ", "Ø³ÙˆÙ†Ø§ØªØ§", "Ø¥Ù„Ù†ØªØ±Ø§", "Ø§Ù„Ù†ØªØ±Ø§", "Ø³ØªØ§Ø±ÙŠÙƒØ³", "Ø§ØªØ´ ÙˆÙ†",
    "Ø¬Ø±ÙŠØ³", "ÙƒØ±ÙŠØ²", "Ø§ÙŠÙˆÙ†", "Ø§ÙŠ ØªÙˆÙ†ØªÙŠ", "Ø§ÙŠ Ø«ÙŠØ±ØªÙŠ", "i20", "i30",
    "Ù…Ø§ØªØ±ÙƒØ³", "Ù„Ø§ÙÙŠØªØ§", "Ø¨ÙˆØ±ØªØ± Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ", "Ø¨ÙˆØ±ØªØ±", "Ø§ØªÙˆØ³", "Ø§ØªØ³",
    
    // ÙƒÙŠØ§
    "Ù…ÙˆØ±Ù†ÙŠÙ‚", "Ø¨ÙŠÙƒØ§Ù†ØªÙˆ", "Ø±ÙŠÙˆ", "Ø³ÙŠØ±Ø§ØªÙˆ", "Ø³ÙˆØ±Ù†ØªÙˆ", "Ø³Ø¨ÙˆØ±ØªØ¬", "Ø³Ø¨ÙˆØ±ØªØ§Ø¬",
    "Ø§ÙˆØ¨ØªÙ…Ø§", "ÙÙŠØ³ØªÙˆ", "Ø£Ù…Ø¬Ø§Ø¯", "Ø§Ù…Ø¬Ø§Ø¯", "ÙƒØ±ÙŠØªØ§",
    
    // Ù…ÙŠØªØ³ÙˆØ¨ÙŠØ´ÙŠ
    "Ù„Ø§Ù†Ø³Ø±", "Ø¨ÙˆÙ…Ø©", "Ù‚Ø±Ø´", "Ø¨Ø§Ø¬ÙŠØ±Ùˆ", "Ø§ØªØ±Ø§Ø¬", "Ø§ÙˆØªÙ„Ø§Ù†Ø¯Ø±", "Ù…ÙŠØ±Ø§Ø¬",
    "L300", "ÙƒØ§Ù†ØªØ±", "Ø¯ÙØ§Ø± Ù…ÙŠØªØ³ÙˆØ¨ÙŠØ´ÙŠ", "Ø¯ÙØ§Ø±", "Ø¨ÙƒØ³ Ù…ÙŠØªØ³ÙˆØ¨ÙŠØ´ÙŠ",
    
    // Ù†ÙŠØ³Ø§Ù†
    "ØµÙ†ÙŠ", "Ø³Ù†ØªØ±Ø§", "ØªÙŠØ¯Ø§", "Ø¨Ø§ØªØ±ÙˆÙ„", "Ù…ÙˆØ±Ø§Ù†Ùˆ", "Ø§ÙƒØ³ ØªØ±ÙŠÙ„", "Ù„Ø§ÙÙŠÙ†Ø§",
    "Ø¨ÙŠÙƒ Ø£Ø¨ Ù†ÙŠØ³Ø§Ù†", "Ø¨ÙŠÙƒ Ø£Ø¨", "Ø¨ÙƒØ³ Ù†ÙŠØ³Ø§Ù†", "Ù‚Ø§Ø´Ù‚Ø§ÙŠ",
    
    // Ø³ÙˆØ²ÙˆÙƒÙŠ
    "Ø£Ù„ØªÙˆ", "Ø§Ù„ØªÙˆ", "ÙÙŠØªØ§Ø±Ø§", "Ø³ÙˆØ²ÙˆÙƒÙŠ ÙØ§Ù†", "Ø£Ù…Ø¬Ø§Ø¯ Ø³ÙˆØ²ÙˆÙƒÙŠ",
    
    // ÙÙˆÙ„ÙƒØ³ ÙØ§Ø¬Ù†
    "Ø¨Ø§Ø³Ø§Øª", "Ø¨ÙˆÙ„Ùˆ", "Ø¨ÙˆØ±Ø§",
    
    // Ù‡ÙˆÙ†Ø¯Ø§
    "Ø³ÙŠÙÙŠÙƒ", "Ø³ÙŠØªÙŠ",
    
    // Ø³ÙƒÙˆØ¯Ø§
    "ÙØ§Ø¨ÙŠØ§", "Ø§ÙˆÙƒØªØ§ÙÙŠØ§", "Ø³ÙŠØ¨Ø±ÙŠÙˆØ±",
    
    // Ø¨ÙŠ ÙˆØ§ÙŠ Ø¯ÙŠ
    "ØµØ§Ù„ÙˆÙ† Ø¨ÙŠ ÙˆØ§ÙŠ Ø¯ÙŠ", "Ø§Ø³ØªÙŠØ´Ù† Ø¨ÙŠ ÙˆØ§ÙŠ Ø¯ÙŠ", "ØªÙƒØ³ÙŠ Ø¨ÙŠ ÙˆØ§ÙŠ Ø¯ÙŠ", "ØªÙƒØ³ÙŠ",
    
    // ØªØ§ØªØ§
    "Ø¨ÙƒØ³ ØªØ§ØªØ§", "Ø¨Øµ ØªØ§ØªØ§", "Ø¯ÙØ§Ø± ØªØ§ØªØ§", "Ø¨ÙˆØ±ØªØ± ØªØ§ØªØ§",
    
    // Ø±Ø£Ø³ Ø´Ø§Ø­Ù†Ø©
    "ÙÙˆÙ„ÙÙˆ", "Ù…Ø±Ø³ÙŠØ¯Ø³ Ø´Ø§Ø­Ù†Ø©", "Ù…Ø§Ù†", "Ù‡ÙŠÙ†Ùˆ", "ØµÙŠÙ†ÙŠ Ø´Ø§Ø­Ù†Ø©", "ØµÙŠÙ†ÙŠ",
    "Ø±ÙŠÙ†Ùˆ Ø´Ø§Ø­Ù†Ø©", "Ø±ÙŠÙ†Ùˆ", "Ø§Ø³ÙƒØ§Ù†ÙŠØ§", "Ø¯Ø§Ù",
    
    // Ø§ÙŠØ³ÙˆØ²Ùˆ
    "Ø¯ÙØ§Ø± Ø§ÙŠØ³ÙˆØ²Ùˆ", "Ø¨ÙƒØ³ Ø§ÙŠØ³ÙˆØ²Ùˆ", "ØµØ§Ù„ÙˆÙ† Ø§ÙŠØ³ÙˆØ²Ùˆ", "Ø§Ø³ØªÙŠØ´Ù† Ø§ÙŠØ³ÙˆØ²Ùˆ", "Ø§ÙŠØ³ÙˆØ²Ùˆ",
    
    // Ù…Ø¹Ø¯Ø§Øª ÙˆØ§Ù„ÙŠØ§Øª
    "Ø¨ÙˆÙƒÙ„Ù†", "Ø¯ÙˆØ³Ø§Ù†", "Ø¨Ø§Ø¨ÙˆØ±", "ØªØ±ÙƒØªÙˆØ±", "Ù„ÙˆØ¯Ø±",
    
    // Ù…Ø§Ø±ÙƒØ§Øª Ø£Ø®Ø±Ù‰
    "Ù…Ø±Ø³ÙŠØ¯Ø³", "Ø¨ÙŠ Ø§Ù… Ø¯Ø¨Ù„ÙŠÙˆ", "BMW", "Ø´ÙØ±ÙˆÙ„ÙŠÙ‡", "Ø§Ø³Ø¨Ø§Ø±Ùƒ",
    "Ø¬ÙŠÙ„ÙŠ", "Ù…Ø§Ø²Ø¯Ø§", "Ø§Ù… Ø¬ÙŠ", "MG", "Ø¯Ø§ÙŠÙˆ", "Ù†ÙˆØ¨ÙŠØ±Ø§", "Ø¯Ø§Ù…Ø§Ø³",
    
    // Ø¹Ø§Ù…Ø©
    "ØµØ§Ù„ÙˆÙ†", "Ø§Ø³ØªÙŠØ´Ù†", "Ø¨ÙƒØ³", "Ø¨ÙˆÙƒØ³ÙŠ", "Ø¯ÙØ§Ø±", "Ø¨Øµ", "Ø­Ø§ÙÙ„Ø©",
    "Ø±ÙˆØ²Ø§", "Ø±ÙƒØ´Ø©", "Ø´Ø§Ø­Ù†Ø©"
];
    

// Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„ØªØµØ­ÙŠØ­Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
let corrections = {
    // ØªÙˆÙŠÙˆØªØ§
    "ÙƒÙˆØ±ÙŠÙ„Ø§": "ÙƒÙˆØ±ÙˆÙ„Ø§",
    "ÙƒÙˆØ±Ù„Ø§": "ÙƒÙˆØ±ÙˆÙ„Ø§",
    "ÙƒØ±ÙŠÙ„Ø§": "ÙƒÙˆØ±ÙˆÙ„Ø§",
    "ÙƒÙˆØ±ÙŠÙ„Ù‡": "ÙƒÙˆØ±ÙˆÙ„Ø§",
    
    // Ù‡ÙŠÙˆÙ†Ø¯Ø§ÙŠ
    "Ø§ÙƒØ³ÙŠÙ†Øª": "Ø§ÙƒØ³Ù†Øª",
    "Ø§ÙƒØ³ÙŠØª": "Ø§ÙƒØ³Ù†Øª",
    "ØªÙˆØ³Ù†": "ØªÙˆØ³Ø§Ù†",
    "Ø§Ù„Ù†ØªÙŠØ±Ø§": "Ø§Ù„Ù†ØªØ±Ø§",
    "Ø§Ù„Ø§Ù†ØªØ±Ø§": "Ø§Ù„Ù†ØªØ±Ø§",
    "Ø³Ù†ØªÙÙŠ": "Ø³Ù†ØªØ§ÙÙŠ",
    "Ø³Ù†ØªØ§ÙÙ‰": "Ø³Ù†ØªØ§ÙÙŠ",
    "Ø³ØªØ§ÙŠØ±ÙƒØ³": "Ø³ØªØ§Ø±ÙŠÙƒØ³",
    "Ø§Ø³ØªÙŠØ±ÙƒØ³": "Ø³ØªØ§Ø±ÙŠÙƒØ³",
    "Ø§Ø³ØªØ§ÙŠØ±ÙƒØ³": "Ø³ØªØ§Ø±ÙŠÙƒØ³",
    
    // ÙƒÙŠØ§
    "Ø³Ø¨ÙˆØ±ØªØ¬": "Ø³Ø¨ÙˆØ±ØªØ§Ø¬",
    "Ø§Ø³Ø¨ÙˆØ±ØªØ¬": "Ø³Ø¨ÙˆØ±ØªØ§Ø¬",
    "Ø§Ø³Ø¨ÙˆØ±ØªØ§Ø¬": "Ø³Ø¨ÙˆØ±ØªØ§Ø¬",
    
    // Ù…ÙŠØªØ³ÙˆØ¨ÙŠØ´ÙŠ
    "Ù„Ù†Ø³Ø±": "Ù„Ø§Ù†Ø³Ø±",
    "Ù„Ø§Ù†Ø³ÙŠØ±": "Ù„Ø§Ù†Ø³Ø±",
    "Ø§ØªØ±ÙŠØ¬": "Ø§ØªØ±Ø§Ø¬",
    "Ø§ÙˆØªÙ„Ø§Ù†Ø¯Ø±": "Ø§ÙˆØªÙ„Ø§Ù†Ø¯Ø±",
    "Ø£ÙˆØªÙ„Ø§Ù†Ø¯Ø±": "Ø§ÙˆØªÙ„Ø§Ù†Ø¯Ø±",
    
    // Ù†ÙŠØ³Ø§Ù†
    "ØµÙ†Ù‰": "ØµÙ†ÙŠ",
    "ØµÙ†Ù†ÙŠ": "ØµÙ†ÙŠ",
    "Ø¨Ø§ØªÙ‡Ù†Ø±Ø±": "Ø¨Ø§ØªØ±ÙˆÙ„",
    "Ù‚Ø§Ø´Ù‚Ø§ÙŠ": "Ù‚Ø§Ø´Ù‚Ø§ÙŠ",
    
    // Ø£Ø®Ø±Ù‰
    "Ù…ÙˆØ±Ù†Ù‚": "Ù…ÙˆØ±Ù†ÙŠÙ‚",
    "Ù…ÙˆØ±Ù†Ù†Ù‚": "Ù…ÙˆØ±Ù†ÙŠÙ‚",
    "Ù…Ø§Ø±Ø³ÙŠØ¯Ø³": "Ù…Ø±Ø³ÙŠØ¯Ø³",
    "Ø¨Ø±Ø§Ø¯Ø©": "Ø¨Ø±Ø§Ø¯Ùˆ",
    "Ø¨Ø±ÙŠÙØ§ÙŠØ§": "Ø¨Ø±ÙŠÙØ§ÙŠØ§"
};

// ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
function switchTab(tab) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    
    event.target.classList.add('active');
    document.getElementById(tab).classList.add('active');
    
    if (tab === 'dictionary') {
        displayCorrections();
    }
}

// ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
function convertArabicNums(str) {
    const arabicNums = ['Ù ','Ù¡','Ù¢','Ù£','Ù¤','Ù¥','Ù¦','Ù§','Ù¨','Ù©'];
    const englishNums = ['0','1','2','3','4','5','6','7','8','9'];
    for (let i = 0; i < 10; i++) {
        str = str.replace(new RegExp(arabicNums[i], 'g'), englishNums[i]);
    }
    return str;
}

// Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
async function cleanData() {
    const input = document.getElementById('inputText').value;
    const lines = input.split('\n');
    
    let totalLines = 0;
    let correctedCount = 0;
    let unchangedCount = 0;
    let removedCount = 0;
    let output = [];
    let unknownWords = new Set();
    
    // Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¬Ù…Ø¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©
    for (let line of lines) {
        line = line.trim();
        if (!line || line.length < 3) continue;
        
        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        line = convertArabicNums(line);
        line = line.replace(/^\*+\s*/, '');
        line = line.replace(/\.{2,}/g, ' ');
        
        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙƒÙ„Ù…Ø§Øª (Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…)
        const words = line.match(/[a-zA-ZØ¡-ÙŠ]+/g) || [];
        
        for (let word of words) {
            word = word.trim();
            if (word.length < 3) continue;
            
            const wordLower = word.toLowerCase();
            
            // ØªØ¬Ø§Ù‡Ù„ ÙƒÙ„Ù…Ø§Øª Ù…Ø¹ÙŠÙ†Ø©
            if (['Ø´Ø§Ø³ÙŠ', 'Ù„ÙˆØ­Ø©', 'Ù„ÙˆØ­Ù‡', 'Ø±Ù‚Ù…', 'Ø­ØµØ±', 'Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„'].includes(wordLower)) continue;
            
            // ØªØ­Ù‚Ù‚: Ù‡Ù„ Ø§Ù„ÙƒÙ„Ù…Ø© Ù…Ø¹Ø±ÙˆÙØ©ØŸ
            const isKnown = approvedModels.some(m => m.toLowerCase() === wordLower);
            const isCorrected = corrections[wordLower];
            
            if (!isKnown && !isCorrected) {
                unknownWords.add(word);
            }
        }
    }
    
    // Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©
    if (unknownWords.size > 0) {
        const unknownList = Array.from(unknownWords);
        let newCorrections = 0;
        
        for (let word of unknownList) {
            const result = await askForCorrection(word);
            if (result) {
                corrections[word.toLowerCase()] = result;
                newCorrections++;
            }
        }
        
        if (newCorrections > 0) {
            alert(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ${newCorrections} ØªØµØ­ÙŠØ­ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù‚Ø§Ù…ÙˆØ³!`);
        }
    }
    
    // Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙ†Ø¸ÙŠÙ
    for (let line of lines) {
        let originalLine = line;
        line = line.trim();
        
        if (!line || line.length < 3) {
            removedCount++;
            continue;
        }
        
        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        line = convertArabicNums(line);
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ø®Ø§ØµØ©
        line = line.replace(/^\*+\s*/, '');
        line = line.replace(/\.{2,}/g, ' ');
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµØ­ÙŠØ­Ø§Øª
        let changed = false;
        for (let wrong in corrections) {
            const regex = new RegExp(wrong, 'gi');
            if (regex.test(line)) {
                line = line.replace(regex, corrections[wrong]);
                changed = true;
            }
        }
        
        totalLines++;
        if (changed) {
            correctedCount++;
        } else if (line === originalLine.trim()) {
            unchangedCount++;
        }
        
        output.push(line);
    }
    
    document.getElementById('outputText').value = output.join('\n');
    document.getElementById('totalLines').textContent = totalLines;
    document.getElementById('corrected').textContent = correctedCount;
    document.getElementById('unchanged').textContent = unchangedCount;
    document.getElementById('removed').textContent = removedCount;
}

// Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù† Ø§Ù„ØªØµØ­ÙŠØ­
function askForCorrection(word) {
    return new Promise((resolve) => {
        const modal = document.createElement('div');
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        `;
        
        const box = document.createElement('div');
        box.style.cssText = `
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 550px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        `;
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø©
        const sortedModels = [...approvedModels].sort();
        const optionsHTML = sortedModels.map(m => `<option value="${m}">${m}</option>`).join('');
        
        box.innerHTML = `
            <h3 style="color: #667eea; margin-bottom: 15px; font-size: 20px;">ğŸ” ÙƒÙ„Ù…Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©</h3>
            <div style="background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                <p style="margin: 0; color: #856404;">ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰: <strong style="color: #dc3545; font-size: 18px;">${word}</strong></p>
            </div>
            
            <p style="margin-bottom: 10px; color: #555; font-weight: bold;">Ø§Ø®ØªØ± Ø§Ù„ØªØµØ­ÙŠØ­ Ø§Ù„ØµØ­ÙŠØ­:</p>
            
            <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© -->
            <select id="modelSelect" style="width: 100%; padding: 12px; border: 2px solid #667eea; border-radius: 8px; margin-bottom: 15px; font-size: 15px; background: white;">
                <option value="">-- Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© --</option>
                ${optionsHTML}
            </select>
            
            <!-- Ø£Ùˆ ÙƒØªØ§Ø¨Ø© ÙŠØ¯ÙˆÙŠØ© -->
            <p style="margin-bottom: 5px; color: #888; font-size: 13px; text-align: center;">Ø£Ùˆ</p>
            <input type="text" id="correctionInput" placeholder="Ø§ÙƒØªØ¨ ÙŠØ¯ÙˆÙŠØ§Ù‹ (Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©)" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 15px; font-size: 15px;">
            
            <div style="display: flex; gap: 10px;">
                <button id="saveBtn" style="flex: 1; padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 15px;">âœ… Ø­ÙØ¸</button>
                <button id="skipBtn" style="flex: 1; padding: 12px; background: #6c757d; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 15px;">â­ï¸ ØªØ¬Ø§Ù‡Ù„</button>
                <button id="keepBtn" style="flex: 1; padding: 12px; background: #007bff; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 15px;">âœ”ï¸ ØµØ­ÙŠØ­Ø©</button>
            </div>
        `;
        
        modal.appendChild(box);
        document.body.appendChild(modal);
        
        const selectEl = document.getElementById('modelSelect');
        const inputEl = document.getElementById('correctionInput');
        
        // Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŒ Ø§Ù…Ø³Ø­ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ
        selectEl.addEventListener('change', () => {
            if (selectEl.value) {
                inputEl.value = '';
            }
        });
        
        // Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹ØŒ Ø§Ù…Ø³Ø­ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        inputEl.addEventListener('input', () => {
            if (inputEl.value) {
                selectEl.value = '';
            }
        });
        
        selectEl.focus();
        
        document.getElementById('saveBtn').onclick = () => {
            const correction = selectEl.value || inputEl.value.trim();
            if (correction) {
                document.body.removeChild(modal);
                resolve(correction);
            } else {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ùˆ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹');
            }
        };
        
        document.getElementById('skipBtn').onclick = () => {
            document.body.removeChild(modal);
            resolve(null);
        };
        
        document.getElementById('keepBtn').onclick = () => {
            document.body.removeChild(modal);
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ„Ù…Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©
            approvedModels.push(word);
            resolve(null);
        };
        
        inputEl.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const correction = selectEl.value || inputEl.value.trim();
                if (correction) {
                    document.body.removeChild(modal);
                    resolve(correction);
                }
            }
        });
    });
}

// Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©
function copyOutput() {
    const output = document.getElementById('outputText');
    output.select();
    document.execCommand('copy');
    alert('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ø¸ÙŠÙØ©!');
}

// Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
function clearAll() {
    if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ù†ØµÙˆØµØŸ')) {
        document.getElementById('inputText').value = '';
        document.getElementById('outputText').value = '';
        document.getElementById('totalLines').textContent = '0';
        document.getElementById('corrected').textContent = '0';
        document.getElementById('unchanged').textContent = '0';
        document.getElementById('removed').textContent = '0';
    }
}

// Ø¥Ø¶Ø§ÙØ© ØªØµØ­ÙŠØ­ Ø¬Ø¯ÙŠØ¯
function addCorrection() {
    const wrong = document.getElementById('wrongWord').value.trim();
    const correct = document.getElementById('correctWord').value.trim();
    
    if (!wrong || !correct) {
        alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ„Ù…ØªÙŠÙ†');
        return;
    }
    
    corrections[wrong] = correct;
    displayCorrections();
    
    document.getElementById('wrongWord').value = '';
    document.getElementById('correctWord').value = '';
    
    alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØµØ­ÙŠØ­');
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³
function displayCorrections() {
    const tbody = document.getElementById('correctionsBody');
    tbody.innerHTML = '';
    
    for (let wrong in corrections) {
        const row = `
            <tr>
                <td>${wrong}</td>
                <td><strong>${corrections[wrong]}</strong></td>
                <td><button class="delete-btn" onclick="deleteCorrection('${wrong}')">Ø­Ø°Ù</button></td>
            </tr>
        `;
        tbody.innerHTML += row;
    }
}

// Ø­Ø°Ù ØªØµØ­ÙŠØ­
function deleteCorrection(word) {
    if (confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù: ${word} â†’ ${corrections[word]}ØŸ`)) {
        delete corrections[word];
        displayCorrections();
    }
}

// Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³
function saveCorrections() {
    localStorage.setItem('carCorrections', JSON.stringify(corrections));
    alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³');
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³
function loadCorrections() {
    const saved = localStorage.getItem('carCorrections');
    if (saved) {
        corrections = JSON.parse(saved);
        displayCorrections();
        alert('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³');
    } else {
        alert('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù‚Ø§Ù…ÙˆØ³ Ù…Ø­ÙÙˆØ¸');
    }
}

// Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
function resetCorrections() {
    if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØŸ')) {
        location.reload();
    }
}

// Ø§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ
function manualReplace() {
    const text = document.getElementById('manualText').value;
    const search = document.getElementById('searchText').value;
    const replace = document.getElementById('replaceText').value;
    
    if (!search) {
        alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø¨Ø­Ø«');
        return;
    }
    
    const regex = new RegExp(search, 'gi');
    const result = text.replace(regex, replace);
    const count = (text.match(regex) || []).length;
    
    document.getElementById('manualText').value = result;
    alert(`âœ… ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ${count} ÙƒÙ„Ù…Ø©`);
}

// ØªÙ‡ÙŠØ¦Ø©
window.onload = () => {
    displayCorrections();
};
</script>

</body>
</html>
